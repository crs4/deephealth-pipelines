{
    "tissue": {
        "location": "",
        "basename": "tissue_high.zip",
        "nameroot": "tissue_high",
        "nameext": ".zip",
        "class": "File",
        "checksum": "sha1$31e467bd8a2992cb223d81a7cd306ad4f1a273d8",
        "size": 103843700
    },
    "tumor": {
        "location": "",
        "basename": "tumor.zip",
        "nameroot": "tumor",
        "nameext": ".zip",
        "class": "File",
        "checksum": "sha1$52616410dc91f0e6584721e2ead1098eb91ef400",
        "size": 6825
    },
    "workflow_def": {
        "class": "Workflow",
        "inputs": [
            {
                "type": [
                    "null",
                    "int"
                ],
                "id": "file:///cwl/predictions.cwl#gpu"
            },
            {
                "type": "File",
                "id": "file:///cwl/predictions.cwl#slide"
            },
            {
                "type": [
                    "null",
                    "int"
                ],
                "id": "file:///cwl/predictions.cwl#tissue-high-batch-size"
            },
            {
                "type": [
                    "null",
                    "int"
                ],
                "id": "file:///cwl/predictions.cwl#tissue-high-chunk-size"
            },
            {
                "type": "string",
                "id": "file:///cwl/predictions.cwl#tissue-high-filter"
            },
            {
                "type": "string",
                "id": "file:///cwl/predictions.cwl#tissue-high-label"
            },
            {
                "type": "int",
                "id": "file:///cwl/predictions.cwl#tissue-high-level"
            },
            {
                "type": [
                    "null",
                    "int"
                ],
                "id": "file:///cwl/predictions.cwl#tissue-low-batch-size"
            },
            {
                "type": [
                    "null",
                    "int"
                ],
                "id": "file:///cwl/predictions.cwl#tissue-low-chunk-size"
            },
            {
                "type": "string",
                "id": "file:///cwl/predictions.cwl#tissue-low-label"
            },
            {
                "type": "int",
                "id": "file:///cwl/predictions.cwl#tissue-low-level"
            },
            {
                "type": [
                    "null",
                    "int"
                ],
                "id": "file:///cwl/predictions.cwl#tumor-batch-size"
            },
            {
                "type": [
                    "null",
                    "int"
                ],
                "id": "file:///cwl/predictions.cwl#tumor-chunk-size"
            },
            {
                "type": "string",
                "id": "file:///cwl/predictions.cwl#tumor-filter"
            },
            {
                "type": "string",
                "id": "file:///cwl/predictions.cwl#tumor-label"
            },
            {
                "type": "int",
                "id": "file:///cwl/predictions.cwl#tumor-level"
            }
        ],
        "outputs": [
            {
                "type": "File",
                "outputSource": "file:///cwl/predictions.cwl#extract-tissue-high/tissue",
                "id": "file:///cwl/predictions.cwl#tissue"
            },
            {
                "type": "File",
                "outputSource": "file:///cwl/predictions.cwl#classify-tumor/tumor",
                "id": "file:///cwl/predictions.cwl#tumor"
            }
        ],
        "steps": [
            {
                "run": {
                    "cwlVersion": "v1.1",
                    "class": "CommandLineTool",
                    "requirements": [
                        {
                            "dockerPull": "mdrio/slaid:1.0.0-tumor_model-level_1-cudnn",
                            "class": "DockerRequirement"
                        },
                        {
                            "listing": [
                                "$(inputs.src)"
                            ],
                            "class": "InitialWorkDirRequirement"
                        },
                        {
                            "class": "InlineJavascriptRequirement"
                        }
                    ],
                    "inputs": [
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/batch-size"
                        },
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/chunk-size"
                        },
                        {
                            "type": [
                                "null",
                                "string"
                            ],
                            "inputBinding": {
                                "prefix": "-F"
                            },
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/filter"
                        },
                        {
                            "type": [
                                "null",
                                "File"
                            ],
                            "inputBinding": {
                                "prefix": "--filter-slide"
                            },
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/filter_slide"
                        },
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "inputBinding": {
                                "prefix": "--gpu"
                            },
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/gpu"
                        },
                        {
                            "type": "string",
                            "inputBinding": {
                                "prefix": "-L"
                            },
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/label"
                        },
                        {
                            "type": "int",
                            "inputBinding": {
                                "prefix": "-l"
                            },
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/level"
                        },
                        {
                            "type": "File",
                            "inputBinding": {
                                "position": 1
                            },
                            "secondaryFiles": [
                                {
                                    "pattern": "${\n  if (self.nameext == '.mrxs') {\n    return {\n    class: \"File\",\n    location: self.location.match(/.*\\//)[0] + \"/\" + self.nameroot,\n    basename: self.nameroot};\n  }\n  else return null;\n}",
                                    "required": false
                                }
                            ],
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/src"
                        }
                    ],
                    "arguments": [
                        "fixed-batch",
                        "-o",
                        "$(runtime.outdir)",
                        "--writer",
                        "zip"
                    ],
                    "outputs": [
                        {
                            "type": "File",
                            "outputBinding": {
                                "glob": "$(inputs.src.basename).zip",
                                "outputEval": "${self[0].basename=inputs.label + '.zip'; return self;}"
                            },
                            "id": "file:///cwl/predictions.cwl#classify-tumor/run/tumor"
                        }
                    ],
                    "id": "_:0da30b6e-1a2f-4345-8a7b-10d65f699bb2"
                },
                "in": [
                    {
                        "source": "file:///cwl/predictions.cwl#tumor-batch-size",
                        "id": "file:///cwl/predictions.cwl#classify-tumor/batch-size"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tumor-chunk-size",
                        "id": "file:///cwl/predictions.cwl#classify-tumor/chunk-size"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tumor-filter",
                        "id": "file:///cwl/predictions.cwl#classify-tumor/filter"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#extract-tissue-low/tissue",
                        "id": "file:///cwl/predictions.cwl#classify-tumor/filter_slide"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#gpu",
                        "id": "file:///cwl/predictions.cwl#classify-tumor/gpu"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tumor-label",
                        "id": "file:///cwl/predictions.cwl#classify-tumor/label"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tumor-level",
                        "id": "file:///cwl/predictions.cwl#classify-tumor/level"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#slide",
                        "id": "file:///cwl/predictions.cwl#classify-tumor/src"
                    }
                ],
                "out": [
                    "file:///cwl/predictions.cwl#classify-tumor/tumor"
                ],
                "id": "file:///cwl/predictions.cwl#classify-tumor"
            },
            {
                "run": {
                    "cwlVersion": "v1.1",
                    "class": "CommandLineTool",
                    "requirements": [
                        {
                            "dockerPull": "mdrio/slaid:1.0.0-tissue_model-eddl_2-cudnn",
                            "class": "DockerRequirement"
                        },
                        {
                            "listing": [
                                "$(inputs.src)"
                            ],
                            "class": "InitialWorkDirRequirement"
                        },
                        {
                            "class": "InlineJavascriptRequirement"
                        }
                    ],
                    "inputs": [
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/batch-size"
                        },
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/chunk-size"
                        },
                        {
                            "type": [
                                "null",
                                "string"
                            ],
                            "inputBinding": {
                                "prefix": "-F"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/filter"
                        },
                        {
                            "type": [
                                "null",
                                "File"
                            ],
                            "inputBinding": {
                                "prefix": "--filter-slide"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/filter_slide"
                        },
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "inputBinding": {
                                "prefix": "--gpu"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/gpu"
                        },
                        {
                            "type": "string",
                            "inputBinding": {
                                "prefix": "-L"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/label"
                        },
                        {
                            "type": "int",
                            "inputBinding": {
                                "prefix": "-l"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/level"
                        },
                        {
                            "type": "File",
                            "inputBinding": {
                                "position": 1
                            },
                            "secondaryFiles": [
                                {
                                    "pattern": "${\n  if (self.nameext == '.mrxs') {\n    return {\n    class: \"File\",\n    location: self.location.match(/.*\\//)[0] + \"/\" + self.nameroot,\n    basename: self.nameroot};\n  }\n  else return null;\n}",
                                    "required": false
                                }
                            ],
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/src"
                        }
                    ],
                    "arguments": [
                        "fixed-batch",
                        "-o",
                        "$(runtime.outdir)",
                        "--writer",
                        "zip"
                    ],
                    "outputs": [
                        {
                            "type": "File",
                            "outputBinding": {
                                "glob": "$(inputs.src.basename).zip",
                                "outputEval": "${self[0].basename=inputs.label + '.zip'; return self;}"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/tissue"
                        }
                    ],
                    "id": "_:4e89098a-2e54-49b8-af2d-6cf4ff623d1f"
                },
                "in": [
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-high-batch-size",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-high/batch"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-high-chunk-size",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-high/chunk"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-high-filter",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-high/filter"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#extract-tissue-low/tissue",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-high/filter_slide"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#gpu",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-high/gpu"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-high-label",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-high/label"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-high-level",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-high/level"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#slide",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-high/src"
                    }
                ],
                "out": [
                    "file:///cwl/predictions.cwl#extract-tissue-high/tissue"
                ],
                "id": "file:///cwl/predictions.cwl#extract-tissue-high"
            },
            {
                "run": {
                    "cwlVersion": "v1.1",
                    "class": "CommandLineTool",
                    "requirements": [
                        {
                            "dockerPull": "mdrio/slaid:1.0.0-tissue_model-eddl_2-cudnn",
                            "class": "DockerRequirement"
                        },
                        {
                            "listing": [
                                "$(inputs.src)"
                            ],
                            "class": "InitialWorkDirRequirement"
                        },
                        {
                            "class": "InlineJavascriptRequirement"
                        }
                    ],
                    "inputs": [
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/batch-size"
                        },
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/chunk-size"
                        },
                        {
                            "type": [
                                "null",
                                "string"
                            ],
                            "inputBinding": {
                                "prefix": "-F"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/filter"
                        },
                        {
                            "type": [
                                "null",
                                "File"
                            ],
                            "inputBinding": {
                                "prefix": "--filter-slide"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/filter_slide"
                        },
                        {
                            "type": [
                                "null",
                                "int"
                            ],
                            "inputBinding": {
                                "prefix": "--gpu"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/gpu"
                        },
                        {
                            "type": "string",
                            "inputBinding": {
                                "prefix": "-L"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/label"
                        },
                        {
                            "type": "int",
                            "inputBinding": {
                                "prefix": "-l"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/level"
                        },
                        {
                            "type": "File",
                            "inputBinding": {
                                "position": 1
                            },
                            "secondaryFiles": [
                                {
                                    "pattern": "${\n  if (self.nameext == '.mrxs') {\n    return {\n    class: \"File\",\n    location: self.location.match(/.*\\//)[0] + \"/\" + self.nameroot,\n    basename: self.nameroot};\n  }\n  else return null;\n}",
                                    "required": false
                                }
                            ],
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/src"
                        }
                    ],
                    "arguments": [
                        "fixed-batch",
                        "-o",
                        "$(runtime.outdir)",
                        "--writer",
                        "zip"
                    ],
                    "outputs": [
                        {
                            "type": "File",
                            "outputBinding": {
                                "glob": "$(inputs.src.basename).zip",
                                "outputEval": "${self[0].basename=inputs.label + '.zip'; return self;}"
                            },
                            "id": "file:///cwl/predictions.cwl#extract-tissue-high/run/tissue"
                        }
                    ],
                    "id": "_:4e89098a-2e54-49b8-af2d-6cf4ff623d1f"
                },
                "in": [
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-low-batch-size",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-low/batch-size"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-low-chunk-size",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-low/chunk-size"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#gpu",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-low/gpu"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-low-label",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-low/label"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#tissue-low-level",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-low/level"
                    },
                    {
                        "source": "file:///cwl/predictions.cwl#slide",
                        "id": "file:///cwl/predictions.cwl#extract-tissue-low/src"
                    }
                ],
                "out": [
                    "file:///cwl/predictions.cwl#extract-tissue-low/tissue"
                ],
                "id": "file:///cwl/predictions.cwl#extract-tissue-low"
            }
        ],
        "id": "file:///cwl/predictions.cwl",
        "cwlVersion": "v1.2",
        "http://commonwl.org/cwltool#original_cwlVersion": "v1.1"
    },
    "workflow_params": {
        "slide": {
            "class": "File",
            "path": "test.mrxs"
        },
        "tissue-low-level": 9,
        "tissue-low-label": "tissue_low",
        "tissue-high-level": 4,
        "tissue-high-label": "tissue_high",
        "tissue-high-filter": "tissue_low>0.1",
        "gpu": 0,
        "tumor-level": 1,
        "tumor-label": "tumor",
        "tumor-filter": "tissue_low>0.8"
    }
}
